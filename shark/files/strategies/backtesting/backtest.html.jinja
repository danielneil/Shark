 <html>
	<head>
        	<style> .bold { font-weight: bold } </style>
    	</head>
    	<body>
        	<h1>Strategy Performance - {{ ticker }}</h1><hr /> 

        	<p><span class='bold'>Date generated:</span> {{ generationTime }} </p>
        	<p><span class='bold'>Strategy code computation time:</span> {{ strategy_code_computation_time }} seconds.</p><hr />

        	<a href = '/shark/backtest/transactions/{{ ticker }}.trade.log.html'>Trade Log</a>
        	<br />
        	<br />
		<table border=1 style='width: 800px'>
		<tr><th style='background-color: #E0E0E0' colspan='2'>Portfolio Summary</th></tr> 
		<tr><td>Final portfolio value:</td><td>${{ strat_getResult }}</td></tr> 
		<tr><td>Cumulative returns:</td><td>{{ retanalyzer_get_cumulative_returns }}</td></tr> 

		<tr><td>Sharpe ratio:</td><td>{{ sharpe_ratio }}</td></tr>
		<tr><td>Max. drawdown:</td><td>{{ draw_down_analyzer_get_max_draw_down }}</td></tr>
		<tr><td>Longest drawdown duration:</td><td>{{ drawdown_analyzer_get_longest_drawdown_duration }}</td></tr>
		<tr><td style='background-color: #E8E8E8'>Total trades:</td><td>{{ trades_analyzer_get_count }}</td></tr>
		<tr><td style='text-align: right'>Wins:</td><td>{{ trades_analyzer_get_profitable_count }}</td></tr>
		<tr><td style='text-align: right'>Losses:</td><td>{{ trades_analyzer_get_unprofitable_count }}</td></tr>
		</table>
		<br />

		<img src = '/shark/backtest/{{ ticker }}.png' />

		// if tradesAnalyzer.getCount() > 0:

		    <table border=1 style='width: 800px'>
		    <tr><th colspan='2' style='background-color: #E0E0E0'>Wins + Losses</th></tr> 

		    <tr><td>Avg. profit:</td><td>${{ wl_profits_mean }}</td></tr>
		    <tr><td>Profits std. dev.:</td><td>$ {{ wl_profits_std }}</td></tr>
		    <tr><td>Max. profit:</td><td>${{ wl_profits_max }}</td></tr>  
		    <tr><td>Min. profit:</td><td>${{ wl_profits_min }}</td></tr>

		    <tr><td>Avg. return:</td><td>{{ wl_returns_mean }}</td></tr>
		    <tr><td>Returns std. dev.:</td><td>{{ wl_returns_std }}</td></tr> 
		    <tr><td>Max. return:</td><td>%{{ wl_returns_max  }}</td></tr>
		    <tr><td>Min. return:</td><td>%{{ wl_returns_min }}</td></tr>

		    </table>
		    <br />

		// if tradesAnalyzer.getProfitableCount() > 0:

		    <table border=1 style='width: 800px'>
		    <tr><th colspan='2' style='background-color: #E0E0E0'>Wins</th></tr> 

		    <tr><td>Avg. profit:</td><td>${{ w_profits_mean }}</td></tr>
		    <tr><td>Profits std. dev.:</td><td>${{ w_profits_std }}</td></tr>
		    <tr><td>Max. profit:</td><td>${{ w_profits_std }}</td></tr> 
		    <tr><td>Min. profit:</td><td>${{ w_profits_min }}</td></tr>

		    <tr><td>Avg. return:</td><td>{{ w_returns_mean }}</td></tr> 
		    <tr><td>Returns std. dev.:</td><td>{{ w_returns_std }}</td></tr> 
		    <tr><td>Max. return:</td><td>{{ w_returns_max }}/td></tr> 
		    <tr><td>Min. return:</td><td>{{ w_returns_min }}</td></tr> 


		    </table>
		    <br />

		// if tradesAnalyzer.getUnprofitableCount() > 0:

		    <table border=1 style='width: 800px'>
		    <tr><th colspan='2' style='background-color: #E0E0E0'>Losses</th></tr> 

		    <tr><td>Avg. loss:</td><td>$%2.f</td></tr>" % (l_losses.mean()))
		    <tr><td>Losses std. dev.:</td><td>$%2.f</td></tr>" % (l_losses.std()))
		    <tr><td>Max. loss:</td><td>$%2.f</td></tr>" % (l_losses.min()))
		    <tr><td>Min. loss:</td><td>$%2.f</td></tr>" % (l_losses.max()))

		    returns = tradesAnalyzer.getNegativeReturns()

		    <tr><td>Avg. return:</td><td>{{ l_returns_mean }}</td></tr>
		    <tr><td>Returns std. dev.:</td><td>{{ l_returns_std }}</td></tr> 
		    <tr><td>Max. return:</td><td>{{ l_returns_max  }}</td></tr>
		    <tr><td>Min. return:</td><td>{{ l_returns_min  }}</td></tr>

		    </table>
		    <br />
	</body>
</html>
