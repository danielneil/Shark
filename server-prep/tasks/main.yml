---
# tasks file for server-prep

- name: Setting system timezone.
  timezone:
   name: "Australia/Sydney"
   
- name: Switching off selinx (until the 8 bug is sorted)
  shell: setenforce 0

- name: Installing rsync
  package:
   name: rsync
   state: latest

- name: Installing dos2unix
  package:
   name: dos2unix
   state: latest

- name: Install curl
  package:
   name: curl
   state: latest
  
- name: Install unzip
  package:
   name: unzip
   state: latest
  
- name: Install net-tools
  package:
   name: net-tools
   state: latest
   
- name: Installig fail2ban
  package:
   name: fail2ban-all.noarch
   state: latest
   
- name: Starting the above
  service:
   name: fail2ban
   state: started
   enabled: true
   
- name: Install yamllint.noarch
  package:
   name: yamllint.noarch
   state: latest
   
- name: Installing tar.x86_64
  package:
   name: tar.x86_64
   state: latest
   
- include: shark_prereqs.yml
- include: python_prereqs.yml
